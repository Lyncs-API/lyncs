configure_file(__init__.py.in __init__.py)

set(LYNCS_CONFIG "${CMAKE_CURRENT_BINARY_DIR}/__init__.py")
file(APPEND ${LYNCS_CONFIG} "\n# Informations on MPI\n")
if(ENABLE_MPI)
  file(APPEND ${LYNCS_CONFIG} "mpi_enabled = True\n")
  file(APPEND ${LYNCS_CONFIG} "mpi_include = '${MPI_C_INCLUDE_DIRS}'\n")
  file(APPEND ${LYNCS_CONFIG} "mpi_libraries = '${MPI_C_LIBRARIES}'\n")
else()
  file(APPEND ${LYNCS_CONFIG} "mpi_enabled = False\n")
endif()


file(APPEND ${LYNCS_CONFIG} "\n# Informations on the external libraries\n")
foreach(lib ${_EXT_LIBS})
  if(ENABLE_${lib})
    file(APPEND ${LYNCS_CONFIG} "globals()['${lib}'.lower()+'_enabled'] = True\n")
    file(APPEND ${LYNCS_CONFIG} "globals()['${lib}'.lower()+'_path'] = '${${lib}_PATH}'\n")
  else()
    file(APPEND ${LYNCS_CONFIG} "globals()['${lib}'.lower()+'_enabled'] = False\n")
  endif()
endforeach(lib)
